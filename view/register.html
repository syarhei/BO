<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="css/index.css"/>
    <script src="lib/jquery-3.0.0.min.js"></script>
    <script src="lib/jquery-migrate-1.4.1.min.js"></script>
    <meta charset="UTF-8">
    <title>Welcome | BO</title>

</head>
<body>
<div>
    <header></header>
</div>

<div align="center">
    <form>
        <p>
            <label>
                Bookmaker Office
            </label>
        </p>
        <p>
            <input type="text" id="nickname" placeholder="username"> <br>
        </p>
        <p>
            <input type="password" id="password" placeholder="password"> <br>
        </p>
        <p>
            <input type="text" id="address" placeholder="address [city]"> <br>
        </p>
        <p>
            <input type="text" id="sex" placeholder="sex [M|W]"> <br>
        </p>
        <p>
            <input type="button" value="sign in" id="SingIn" onclick="signIn()">
            <input type="button" style="margin-left: 10px" value="sign up" id="SingUp" onclick="signUp()">
        </p>
    </form>
</div>

<script>
    function signIn() {
        window.location.href = '/';
    }

    function signUp() {
        let user = {
            nickname: document.getElementById("nickname").value,
            password: document.getElementById("password").value,
            address: document.getElementById("address").value,
            sex: document.getElementById("sex").value
        };
        $.ajax({
            type: 'post',
            data: user,
            url: '/api/users',
            success: (result) => {
                if (result.error)
                    if (result.error.message)
                        alert(result.error.message);
                    else alert(result.error);
                else {
                    window.location.href = 'main.html';
                }
            },
            error: (error) => {
                alert(error);
            }
        });
    }
</script>

</body>
</html>